---
demo:
  title: 'Microsoft Sentinel'
  module: 'モジュール 3: Microsoft Sentinel のセキュリティ機能について説明する'
---


# <a name="demo-microsoft-sentinel"></a>デモ:Microsoft Sentinel

このデモは、次の Learn コンテンツに対応しています。

- ラーニング パス: Microsoft セキュリティ ソリューションの機能について説明する
- モジュール: Microsoft Sentinel のセキュリティ機能について説明する
- ユニット: 統合型の脅威管理を Microsoft Sentinel が提供するしくみを説明する

## <a name="demo-scenario"></a>デモ シナリオ

このデモでは、Microsoft Sentinel インスタンスの作成プロセスについて一通り説明します。  また、Microsoft Sentinel をサポートするためにデプロイするリソースへのアクセスを保証するためのアクセス許可を設定します。  この基本的なセットアップが完了したら、Microsoft Sentinel をデータ ソースに接続し、ブックを選択してデータの監視と視覚化を行う手順について説明します。  最後に、疑わしい現象に関して通知を受け取るための組み込みの分析、自動化機能など、使用可能な他のオプションの一部を示します。

### <a name="pre-demo-setup--create-a-microsoft-sentinel-instance"></a>デモ前のセットアップ: Microsoft Sentinel インスタンスを作成する

1. ブラウザー タブ **[ホーム - Microsoft Azure]** を開きます。  タブを以前に閉じた場合は、ブラウザー ページを開き、アドレス バーに「portal.azure.com」と入力して、再度サインインします。

1. ページ上部の "Microsoft Azure" と表示されている青色のバーの横にある検索ボックスに、「**Microsoft Sentinel**」と入力し、検索結果から **[Microsoft Sentinel]** を選択します。

1. [Microsoft Sentinel] ページで、 **[Microsoft Sentinel の作成] を選択します**。

1. [ワークスペースへの Microsoft Sentinel の追加] ページで、 **[新しいワークスペースの作成]** を選択します。

1. [Log Analytics ワークスペースの作成] の [基本] タブに、次の情報を入力します。
    1. サブスクリプション: 既定値のままにします。
    1. リソース グループ: **[新規作成]** を選択してから、名前「**SC900-Sentinel-RG**」を入力し、その後 **[OK]** を選択します。
    1. 名前: **SC900-LogAnalytics-workspace**.
    1. リージョン: **米国東部** (場所に基づいて別の既定のリージョンが選択されている場合があります)
    1. **[確認と作成]** を選択します (タグは構成されません)。
    1. 入力した情報を確認してから、**[作成]** を選択します。
    1. 1 つのワークスペースが一覧表示されるまでに、1 から 2 分かかる場合があります。それでも表示されない場合は、**[更新]** を選択してから、**[追加]** を選択します。

1. 新しいワークスペースが追加されると、[Microsoft Sentinel |ニュース & ガイド] ページが表示され、Microsoft Sentinel の無料試用版がアクティブ化されていることを示します。  **[OK]** を選択します。  [作業の開始] ページに 3 つの手順が一覧表示されることにご注意ください。

1. 次のタスクで使用するため、このページは開いたままにしておきます。

### <a name="demo-part-2"></a>デモ パート 2

Microsoft Sentinel インスタンスが作成されると、Microsoft Sentinel をサポートするためにデプロイするリソースに対して、必要なアクセス権があることを確認する必要があります。  

1. 検索ボックスのページ上部にある [Microsoft Azure] と表示されている場所の隣の青色バーに、「**リソース グループ**」と入力し、検索結果で、**[リソース グループ]** を選択します。 リソース グループ レベルにロールを割り当てることで、Microsoft Sentinel をサポートするためにデプロイされるすべてのリソースにロールが適用されることが保証されます。

1. [リソース グループ] ページで、Microsoft Sentinel を使用して作成したリソース グループ **[SC900-Sentinel-RG]** を選択します。

1. [SC900-Sentinel-RG] ページの左ナビゲーション ウィンドウで、**[アクセス制御 (IAM)]** を選択します。

1. [アクセス制御] ページで、**[自分のアクセスの表示]** を選択します。  MOD 管理者として、現在のロールはサービス管理者です。  これによって必要なアクセス許可が付与されますが、デモの目的で、Sentinel 固有のロールを表示することをお勧めします。  ウィンドウの右上隅の **[X]** を選択して、[MOD 管理者の割り当て] ウィンドウを閉じます。

    1. [アクセス制御] ページで、**[追加]** を選択してから、**[ロール割り当ての追加]** を選択します。

    1. [ロール割り当ての追加] ウィンドウが開きます。  検索ボックスに「**Microsoft Sentinel**」と入力して、Microsoft Sentinel に関連付けられている 4 つのロールを表示します。
    1. 一覧表示されている任意のロールから、**表示**を選択してそのロールの詳細を表示します。  ベスト プラクティスとして、ロールに必要な最小特権を割り当てる必要があります。  

    1. 画面右上隅の **[X]** を選択して、ウィンドウを閉じます。

1. アクセスの制御ページから、ウィンドウの右上隅の **[X]** を選択して、ウィンドウを閉じます。

### <a name="demo-part-3"></a>デモ パート 3

デモのこの部分では、データ ソースに接続する手順を示します。  具体的には、Microsoft Defender for Cloud データ コネクタに接続します。

1. ページ上部の "Microsoft Azure" と表示されている青色のバーの横にある検索ボックスに、「**Microsoft Sentinel**」と入力し、検索結果から **[Microsoft Sentinel]** を選択します。

1. [Microsoft Sentinel] ページで、Microsoft Sentinel のインスタンスを使用して作成したワークスペース **[SC900-LogAnalytics-workspace]** を選択します。

1. Microsoft Sentinel の最初の手順では、データを収集できるようにします。 左ナビゲーション ウィンドウで、構成の下に一覧表示される **[データ コネクタ]** を選択します。

1. [データ コネクタ] ページで、メイン ウィンドウで下にスクロールして、利用可能なコネクタの広範なリストを表示します。 [データ コネクタ] ページの [検索] ボックスに「**Microsoft Defender for Cloud**」と入力し、リストから **[Microsoft Defender for Cloud]** を選択します。

1. [Microsoft Defender for Cloud コネクタ] ウィンドウが開きます。 説明を確認し、 **[コネクタ ページを開く]** を選択します。

1. [Microsoft Defender for Cloud コネクタ] ページでウィンドウの左側の説明を確認します。

1. メイン ウィンドウの [指示] タブには、前提条件が表示されます。  手順と構成情報を確認します。
    メイン ウィンドウの [指示] タブには、前提条件が表示されます。  手順と構成情報を確認します。
    1. 構成セクションで、一覧表示されているサブスクリプションの横にある空のボックス **MOC Subscription--lodXXXXXXXX** を選択して、青いボックスにチェックマークが表示されるようにし、 **[接続]** を選択します (検索ボックスの上に接続オプションが表示されます)。  [接続] ウィンドウが表示されるので、 **[OK]** を選択します。  サブスクリプションの横にある状態で状態が [接続済み] に更新されるはずです。  ページの左側のウィンドウに接続状態が表示されない場合は、ブラウザーを更新しないでください。
    1. ページを下にスクロールし、 **[有効にする]** を選択して、接続済みサービスで生成されたすべてのアラートからインシデントを自動的に作成します。
    1. 次に、ページ上部の **[次のステップ]** タブを選択して、このデータ コネクタに推奨されるブックを表示します。  Microsoft Sentinel には、データ ソースに接続するとすぐにデータ全体の分析情報をすばやく得ることができる、組み込みのブック テンプレートが付属しています。
    1. **[ASC コンプライアンスと保護]** を選択します (注: ASC または Azure Security Center は、現在 Microsoft Defender for Cloud と呼ばれています)。  これにより、ブック ページが開きます。  画面の右側のウィンドウで説明を確認した後、画面の下部にある **[保存]** を選択し、 **[OK]** を選択してブックを既定の場所に保存します。  ここで **[保存されたブックの表示]** を選択します。  
    1. [ワークスペース] フィールドで、 **[SC900-LogAnalytics-workspace]** を選択します。
    1. ブック ページの上部にある **[自動更新: オフ]** を選択し、 **[5 分]** 、 **[適用]** の順に選択します。
    1. ブック ページの上部にある **[保存]** アイコンを選択します。
    1. [ブック] ページの左上隅の、"ブック" と表示されている場所の上にある、 **[Microsoft Sentinel]** を選択します。 これで、[概要] ページに戻ります。 1 つのアクティブなコネクタを示すために、接続済みと表示される上の番号 1 が表示されます ([更新] を選択する必要がある場合があります)。

1. 次のタスクで使用するため、このページは開いたままにしておきます。

### <a name="demo-part-4"></a>デモ パート 4

デモのこのパートでは、Sentinel で使用できるオプションの一部を示します。

1. 左側のナビゲーション ウィンドウから、 **[ハンティング]** を選択します。  選択されている (下線付き) **クエリ** タブで、一覧から任意のクエリを選択します。  クエリが選択されたら、そのクエリに関して表示される情報 (クエリのコードを含む) と、クエリを実行して結果を表示するオプションに注目してください。  何も選択しないでください。

1. 左側のナビゲーション ウィンドウから、 **[MITRE ATT&CK]** を選択します。  MITRE ATT&CK は、攻撃者がよく使う戦術と手法の、一般公開されているナレッジ ベースです。 Microsoft Sentinel を使うと、MITRE ATT&CK® フレームワークの戦術と手法に基づいて、ご自分のワークスペース内で既にアクティブになっている検出と構成可能な検出を確認し、組織のセキュリティ カバレッジを把握することができます。  マトリックスから任意のセルを選択し、画面の右側にある情報に注目してください。  

1. 左側のナビゲーション ウィンドウから、 **[コミュニティ]** を選択します。 Microsoft のセキュリティ アナリストは、新しいブック、プレイブック、ハンティング クエリなどを絶えず作成および追加し、お客様の環境で使用できるようにコミュニティに投稿しています。 プライベート コミュニティの GitHub リポジトリからサンプル コンテンツをダウンロードして、Microsoft Sentinel 用のカスタム ブック、捜索クエリ、ノートブック、プレイブックを作成できます。  **[Onboard community content](コミュニティのコンテンツをオンボードする)** を選択します。  GitHub リポジトリへの新しいタブが開き、シナリオを有効にするためのコンテンツをダウンロードできます。  ブラウザーで Azure のタブに戻ります。

1. 左ナビゲーション ウィンドウで、**[分析]** を選択します。  **[Advanced Multistage Attack Detection](高度なマルチステージ攻撃の検出)** の一覧から最初の項目を選択します。  詳細情報に注目してください。  Microsoft Sentinel では、スケーラブルな機械学習アルゴリズムに基づく相関関係エンジンである Fusion を使用して、キル チェーンのさまざまな段階で観察される異常な動作と疑わしいアクティビティの組み合わせを特定することによって、マルチステージ攻撃 (永続的脅威とも呼ばれます) を自動的に検出します。 これらの検出を基に、Microsoft Sentinel では、Microsoft Sentinel 以外では検出が困難であろうインシデントが生成されます。

1. 左ナビゲーション ウィンドウで、**[自動化]** を選択します。  ここでは、単純に自動化ルールを作成したり、既存のプレイブックと統合したり、新しいプレイブックを作成したりできます。  **[+ 作成]** を選択し、 **[Automation rule](自動化ルール)** を選択します。  画面の右側に表示されるウィンドウと、条件とアクションを作成するために使用できるオプションに注目してください。  画面の下部で、 **[キャンセル]** を選択します。

1. 左ナビゲーション パネルで、**[ブック]** を選択します。 [ワークブック] ページで、[検索] ボックスの上に表示される **[自分のワークブック]** タブを選択します。  以前に保存したワークブックが表示され、データを確認および監視するために利用できます。   注: ブックに反映する実際のアクティビティは Azure サブスクリプションでは発生していません。また、Azure ラボのサブスクリプションでは、ブックで視覚化できるデータの収集に通常よりも長い待ち時間が発生する場合があります。

1. 画面右上隅の **[X]** を選択して、ウィンドウを閉じます。

1. ウィンドウの左上隅にある青いバーのすぐ下にある **[ホーム]** を選択して、Azure portal のホーム ページに戻ります。  

### <a name="review"></a>確認

このデモでは、Microsoft Sentinel をデータ ソースに接続する手順について説明し、ブックをセットアップし、Microsoft Sentinel で使用できるいくつかのオプションについて説明しました。
